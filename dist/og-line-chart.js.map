{"version":3,"sources":["og-line-chart.es6.js"],"names":["Polymer","is","observers","properties","width","type","Number","value","height","margin","Object","notify","top","right","bottom","left","data","Array","showTodayLine","Boolean","today","String","todayLabel","historicalLabel","forecastLabel","cfgXAxis","cfgYAxis","cfgSeries","legendAlignment","_defaultCfgXAxis","_defaultCfgYAxis","ready","scopeSubtree","$","chart","attached","_setupDefaults","draw","d3","Px","length","axisData","x","_massageData","_prepareChartingArea","_prepareAxes","_drawGridLines","_drawTimelineSeparators","_drawAxes","_drawChart","fire","y","minimap","assign","updateStyle","key","val","customStyle","axisColor","updateStyles","tickColor","parseTime","inputDateFormat","timeParse","forEach","d","getTime","i","adjustedWidth","adjustedHeight","select","remove","svg","append","attr","minimapSvg","toolTip","tip","offset","html","msg","call","scaleTime","range","scaleLinear","clamp","todayAsDate","yMax","max","reduce","a","b","Math","yMin","start","domain","extent","d3NiceType","Function","nice","niceTicks","yScaledMin","hideGrid","axisBottom","tickSize","tickFormat","axisLeft","ticks","totalGridLines","text","_xAxis","_minimapXAxis","tickTimeFormat","timeFormat","format","_yAxis","axisLabel","_series","idx","filteredData","filter","_datum","xStart","xEnd","result","scaledXStart","scaledXEnd","radius","isLineChart","_drawLineChart","selectAll","enter","color","on","prefix","label","show","hide","minimapX","minimapY","line","minimapLine","interpolation","curve","style","dashArray","_drawBrushAndZoomForMinimap","me","brushed","event","sourceEvent","s","selection","map","invert","zoom","transform","zoomIdentity","scale","translate","zoomed","t","rescaleX","brush","move","invertX","brushX","scaleExtent","Infinity","translateExtent","_redraw","_toggleSeries","model","get","querySelectorAll","elt","display"],"mappings":"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","file":"og-line-chart.js","sourcesContent":["(function() {\n  Polymer({\n\n    is: 'og-line-chart',\n\n    observers: [\n      '_redraw(margin, data, cfgXAxis, cfgYAxis, cfgSeries)'\n    ],\n\n    properties: {\n      /**\n      * Width of the Chart.\n      *\n      * @property width\n      */\n      width: {\n\t\t\t\ttype: Number,\n\t\t\t\tvalue: 960\n      },\n      /**\n      * Height of the Chart.\n      *\n      * @property height\n      */\n\t\t\theight: {\n\t\t\t\ttype: Number,\n\t\t\t\tvalue: 300\n      },\n      /**\n      * Chart Margin.\n        Default: {top: 30, right: 20, bottom: 40, left: 50}\n      *\n      * @property margin\n      */\n\t\t\tmargin: {\n\t\t\t\ttype: Object,\n\t\t\t\tnotify: true,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn {top: 30, right: 20, bottom: 40, left: 50};\n\t\t\t\t}\n\t\t\t},\n      /**\n      * Chart Data\n      * Format: [{x: Number, y: [y0, y1, y2, y3...]}]\n      * @property data\n      */\n      data: {\n\t\t\t\ttype: Array,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n      },\n      /**\n       * Show Today Line and subsequently, Historical and Forecast Labels\n       *\n       * @property showTodayLine\n       */\n      showTodayLine: {\n        type: Boolean,\n        value: true\n      },\n      /**\n       * The X-axis point which should be considered as today\n       *\n       * @property today\n       */\n      today: {\n        type: String\n      },\n      /**\n       * Today Label\n       *\n       * @property todayLabel\n       */\n      todayLabel: {\n        type: String,\n        value: \"Today\"\n      },\n      /**\n       * Historical Label\n       *\n       * @property historicalLabel\n       */\n      historicalLabel: {\n        type: String,\n        value: \"Historical\"\n      },\n      /**\n       * Forecast Label\n       *\n       * @property forecastLabel\n       */\n      forecastLabel: {\n        type: String,\n        value: \"Forecast\"\n      },\n      /**\n       * X Axis Config\n       * Eg: {\n            \"color\": \"\",\n            \"axisLabel\": \"\",\n            \"legendLabel\": \"\",\n            \"inputDateFormat\": \"\",\n            \"tickFormat\": \"\",\n            \"tickTimeFormat\": \"\",\n            \"hideGrid\": false,\n            \"d3NiceType\": \"\",\n            \"niceTicks\": 0,\n            \"axisColor\": \"\",\n            \"tickColor\": \"\"\n          }\n       * @property cfgXAxis\n       */\n      cfgXAxis: {\n        type: Object\n      },\n      /**\n       * Y Axis Config\n       * Eg: {\n            \"hideGrid\": false,\n            \"axisLabel\": \"\",\n            \"axisColor\": \"\",\n            \"tickColor\": \"\",\n            \"niceTicks\": 6,\n            \"tickFormat\": \"\",\n            \"start\": 0\n          }\n       * @property cfgYAxis\n       */\n      cfgYAxis: {\n        type: Object\n      },\n      /**\n       * Y Axis Series Config\n       * Eg: [\n            {\n              \"color\": \"\",\n              \"dashArray\": \"\",\n              \"radius\": 2,\n              \"legendLabel\": \"\",\n              \"tickFormat\": \"\",\n              \"type\": \"\",\n              \"interpolation\": \"\",\n              \"xStart\": \"\",\n              \"xEnd\": \"\"\n            }\n          ]\n       * @property cfgSeries\n       */\n      cfgSeries: {\n        type: Array,\n        value() {\n          return [];\n        }\n      },\n      /**\n       * Legend Alignment\n       * Eg: right, left, center\n       *\n       * @property legendAlignment\n       */\n      legendAlignment: {\n        type: String,\n        value: \"right\"\n      }\n    },\n\n    _defaultCfgXAxis: {\n      \"color\": \"\",\n      \"axisLabel\": \"\",\n      \"legendLabel\": \"\",\n      \"inputDateFormat\": \"%Y-%m-%dT%H:%M:%S.%LZ\",\n      \"tickFormat\": \"\",\n      \"tickTimeFormat\": \"\",\n      \"hideGrid\": false,\n      \"d3NiceType\": \"timeDay\",\n      \"niceTicks\": 0,\n      \"axisColor\": \"\",\n      \"tickColor\": \"\"\n    },\n\n    _defaultCfgYAxis: {\n      \"hideGrid\": false,\n      \"axisLabel\": \"\",\n      \"axisColor\": \"\",\n      \"tickColor\": \"\",\n      \"niceTicks\": 6,\n      \"tickFormat\": \"\",\n      \"start\": 0\n    },\n\n    ready() {\n      this.scopeSubtree(this.$.chart, true);\n    },\n\n    attached() {\n      this._setupDefaults();\n    },\n\n    draw() {\n      this._setupDefaults();\n      let d3 = Px.d3, data = this.data;\n      if(!data || data.length === 0 || !this.axisData || !this.axisData.x) {return;}\n      data = this._massageData(data);\n      this._prepareChartingArea();\n      this._prepareAxes(data);\n      this._drawGridLines(data);\n      this._drawTimelineSeparators(data);\n      this._drawAxes(data);\n      this._drawChart(data);\n\n      this.fire(\"chart-drawn\", {});\n    },\n    \n    _setupDefaults() {\n      this.axisData = {x: {}, y: {}};\n      this.minimap = {};\n      Object.assign(this.axisData.x, this._defaultCfgXAxis, this.cfgXAxis);\n      Object.assign(this.axisData.y, this._defaultCfgYAxis, this.cfgYAxis);\n      this.cfgSeries = this.cfgSeries || [];\n\n      const updateStyle = (key, val) => {\n        if(this.customStyle) {\n          this.customStyle['--x-axis-color'] = this.axisData.x.axisColor;\n          this.updateStyles();\n        } else {\n          this.updateStyles({\"`${key}`\": val});\n        }\n      };\n      \n      if(this.axisData.x.axisColor) {\n        updateStyle('--x-axis-color', this.axisData.x.axisColor);\n      }\n      if(this.axisData.x.tickColor) {\n        updateStyle('--x-tick-color', this.axisData.x.tickColor);\n      }\n      if(this.axisData.y.axisColor) {\n        updateStyle('--y-axis-color', this.axisData.y.axisColor);\n      }\n      if(this.axisData.y.tickColor) {\n        updateStyle('--y-tick-color', this.axisData.y.tickColor);\n      }\n    },\n\n    _massageData(data) {\n      let d3 = Px.d3;\n      // parse the date / time\n      this.parseTime = this.axisData.x.inputDateFormat ?\n        d3.timeParse(this.axisData.x.inputDateFormat) : null;\n\n      data.forEach((d) => {\n        if(this.parseTime) {\n          d.x = d.x.getTime ? d.x : this.parseTime(d.x);\n        }\n        for(let i = 0; i < d.length-1; i++) {\n          let key = \"y\";\n          d[key][i] = d[key][i] ? (+d[key][i]) : 0;\n        }\n      });\n      return data;\n    },\n    _prepareChartingArea() {\n      let d3 = Px.d3;\n      // set the dimensions and margins of the graph\n      this.margin = this.margin || {top: 30, right: 20, bottom: 40, left: 50},\n      this.adjustedWidth = this.width - this.margin.left - this.margin.right,\n      this.adjustedHeight = this.height - this.margin.top - this.margin.bottom - 80;\n\n      this.minimap.margin = {\n        top: 10, \n        right: this.margin.right, \n        bottom: 0, \n        left: this.margin.left\n      };\n      this.minimap.adjustedWidth = this.adjustedWidth;\n      this.minimap.adjustedHeight = 40;\n\n      d3.select(this.$.chart).select(\"svg\").remove();\n      this.svg = d3.select(this.$.chart).append(\"svg\")\n          .attr(\"viewBox\", \"0 0 \"+this.width+\" \"+this.height)\n          .attr(\"preserveAspectRatio\", \"xMidYMid meet\")\n        .append(\"g\")\n          .attr(\"transform\",\n                \"translate(\" + this.margin.left + \",\" + this.margin.top + \")\");\n\n      this.minimapSvg = this.svg.append(\"g\")\n        .attr(\"class\", \"minimap\")\n        .attr(\"transform\", \"translate(\" + \n          \"0,\" + (this.adjustedHeight + this.minimap.adjustedHeight + 20) + \")\");\n\n      this.toolTip = d3.tip(d3.select(this.$.chart))\n        .attr(\"class\", \"d3-tip\")\n        .offset([-8, 0])\n        .html(function(d) {\n          return d.msg;\n        });\n\n      this.svg.call(this.toolTip);\n    },\n    _prepareAxes(data) {\n      // set the ranges\n      let d3 = Px.d3;\n      if(this.parseTime) {\n        this.x= d3.scaleTime().range([0, this.adjustedWidth]);\n        this.minimap.x = d3.scaleTime().range([0, this.adjustedWidth]);\n      } else {\n        this.x= d3.scaleLinear().range([0, this.adjustedWidth]);\n        this.minimap.x = d3.scaleLinear().range([0, this.adjustedWidth]);\n      }\n      this.y = d3.scaleLinear().range([this.adjustedHeight, 0]).clamp(true);\n      this.minimap.y = d3.scaleLinear().range([this.minimap.adjustedHeight, 0]).clamp(true);\n\n      let x = this.x, y = this.y;\n      this.todayAsDate = this.today && this.parseTime ? this.parseTime(this.today) : null;\n\n      let yMax = d3.max(data, function(d) {\n        return d.y.reduce((a,b) => {\n          return Math.max(a,b);\n        })\n      });\n      let yMin = this.axisData.y.start > 0 ? this.axisData.y.start : 0;\n\n      x.domain(d3.extent(data, function(d) { return d.x; }));\n      this.minimap.x.domain(x.domain());\n      if(this.axisData.x.d3NiceType instanceof Function) {\n        x.nice(this.axisData.x.d3NiceType());\n        this.minimap.x.nice(this.axisData.x.d3NiceType());\n      } else if(this.parseTime) {\n        x.nice(d3[this.axisData.x.d3NiceType]);\n        this.minimap.x.nice(d3[this.axisData.x.d3NiceType]);\n      } else if(this.axisData.x.niceTicks) {\n        x.nice(this.axisData.x.niceTicks);\n        this.minimap.x.nice(this.axisData.x.niceTicks);\n      } else {\n        x.nice();\n        this.minimap.x.nice();\n      }\n      y.domain([yMin, yMax]);\n      this.minimap.y.domain(y.domain());\n      if(this.axisData.y.niceTicks) {\n        y.nice(this.axisData.y.niceTicks);\n        this.minimap.y.nice(this.axisData.y.niceTicks);\n      }\n    },\n    _drawGridLines(data) {\n      let x = this.x, y = this.y, d3 = Px.d3;\n      let yScaledMin = y(y.domain()[0]);\n      if(!this.axisData.x.hideGrid) {\n        this.svg.append(\"g\")\n          .attr(\"class\", \"grid x-grid\")\n          .call(d3.axisBottom(x)\n              // .ticks(this.axisData.x.totalGridLines || 10)\n              .tickSize(this.adjustedHeight)\n              .tickFormat(\"\"));\n      }\n\n      if(!this.axisData.y.hideGrid) {\n        this.svg.append(\"g\")\n          .attr(\"class\", \"grid y-grid\")\n          .call(d3.axisLeft(y)\n              .ticks(this.axisData.y.totalGridLines || 5)\n              .tickSize(-this.adjustedWidth)\n              .tickFormat(\"\"));\n      }\n    },\n    _drawTimelineSeparators(data) {\n      let x = this.x, y = this.y, d3 = Px.d3;\n      if(this.showTodayLine) {\n        this.svg.append(\"svg:line\")\n          .attr(\"class\", \"today\")\n          .attr(\"x1\", x(this.todayAsDate))\n          .attr(\"y1\", this.adjustedHeight+18)\n          .attr(\"x2\", x(this.todayAsDate))\n          .attr(\"y2\", -7);\n\n        if(this.historicalLabel) {\n          this.svg.append(\"text\")\n            .attr(\"class\", \"today-text\")\n            .attr(\"x\", (x(x.domain()[0]) + x(this.todayAsDate))/2)\n            .attr(\"y\", -9)\n            .text(this.historicalLabel);\n        }\n\n        if(this.todayLabel) {\n          this.svg.append(\"text\")\n            .attr(\"class\", \"today-text\")\n            .attr(\"x\", x(this.todayAsDate)-10)\n            .attr(\"y\", -9)\n            .text(this.todayLabel);\n        }\n\n        if(this.forecastLabel) {\n          this.svg.append(\"text\")\n            .attr(\"class\", \"today-text\")\n            .attr(\"x\", (x(x.domain()[1]) * 0.8))\n            .attr(\"y\", -9)\n            .text(this.forecastLabel);\n        }\n      }\n    },\n\n    _drawAxes(data) {\n      let x = this.x, y = this.y, d3 = Px.d3;\n\n      // Add the X Axis\n      let _xAxis = d3.axisBottom(x);\n      let _minimapXAxis = d3.axisBottom(this.minimap.x);\n      if(this.parseTime && this.axisData.x.tickTimeFormat) {\n        _xAxis.tickFormat(d3.timeFormat(this.axisData.x.tickTimeFormat));\n        _minimapXAxis.tickFormat(d3.timeFormat(this.axisData.x.tickTimeFormat));\n      } else if(this.axisData.x.tickFormat) {\n        _xAxis.tickFormat(d3.format(this.axisData.x.tickFormat));\n        _minimapXAxis.tickFormat(d3.format(this.axisData.x.tickFormat));\n      }\n      if(this.axisData.x.niceTicks) {\n        _xAxis.ticks(this.axisData.x.niceTicks);\n        _minimapXAxis.ticks(this.axisData.x.niceTicks);\n      }\n      this.svg.append(\"g\")\n          .attr(\"transform\", \"translate(0,\" + this.adjustedHeight + \")\")\n          .attr(\"class\", \"x-axis\")\n          .call(_xAxis);\n      \n      this.minimapSvg.append(\"g\")\n        .attr(\"class\", \"x-axis minimap-x-axis\")\n        .attr(\"transform\", \"translate(0,\" + this.minimap.adjustedHeight + \")\")\n        .call(_minimapXAxis);\n\n      // Add the Y Axis\n      let _yAxis = d3.axisLeft(y).ticks(this.axisData.y.niceTicks || 6);\n      if(this.axisData.y.tickFormat) {\n        _yAxis.tickFormat(d3.format(this.axisData.y.tickFormat));\n      }\n      this.svg.append(\"g\")\n          .attr(\"class\", \"y-axis\")\n          .call(_yAxis);\n\n      if(this.axisData.y.axisLabel) {\n        this.svg.append(\"text\")\n          .attr(\"transform\", \"rotate(-90)\")\n          .attr(\"y\", 0 - this.margin.left)\n          .attr(\"x\",0 - (this.adjustedHeight / 2))\n          .attr(\"dy\", \"1em\")\n          .attr(\"class\", \"y-axis-label\")\n          .text(this.axisData.y.axisLabel);\n      }\n\n      if(this.axisData.x.axisLabel) {\n        this.svg.append(\"text\")\n          .attr(\"dy\", \"1em\")\n          .attr(\"class\", \"x-axis-label\")\n          .attr(\"text-anchor\", \"middle\")\n          .attr(\"transform\", \"translate(\"+ \n            (this.adjustedWidth/2) +\",\"+(this.adjustedHeight + this.margin.top)+\")\")\n          .text(this.axisData.x.axisLabel);\n      }\n    },\n\n    _drawChart(data) {\n      let x = this.x, y = this.y, d3 = Px.d3;\n      this.cfgSeries.forEach((_series, idx) => {\n        \n        let filteredData = data.filter((_datum) => {\n          if(!_series.xStart && !_series.xEnd) {\n            return true;\n          }\n          let result = true;\n          if(_series.xStart) {\n            let scaledXStart = this.parseTime ? this.parseTime(_series.xStart) : +_series.xStart;\n            result = x(_datum.x) >= x(scaledXStart);\n          }\n          if(result && _series.xEnd) {\n            let scaledXEnd = this.parseTime ? this.parseTime(_series.xEnd) : +_series.xEnd;\n            return x(_datum.x) <= x(scaledXEnd);\n          }\n          return result;\n        });\n\n\n        if(this.cfgSeries[idx].radius !== 0) {\n          _series.radius = this.cfgSeries[idx].radius || 2;\n        }\n        const isLineChart = this.cfgSeries[idx].type === \"line\";\n\n        if(isLineChart) {\n          this._drawLineChart(_series, filteredData, idx);\n        }\n\n        this.svg.selectAll(\".dot\")\n          .data(filteredData)\n          .enter()\n            .append(\"circle\")\n            .attr(\"r\", _series.radius)\n            .attr(\"cx\", (d, i) => x(d.x))\n            .attr(\"cy\", (d) => y(d.y[idx]))\n            .attr(\"fill\", _series.color || \"steelblue\")\n            .attr(\"class\", \"series-circle-\"+idx)\n            .on('mouseover', (d, i) => {\n              d3.select(this)\n                .attr('r', _series.radius + 2);\n              let prefix = _series.label ? _series.label + \": \" : \"\";\n              d.msg = prefix + d.y[idx];\n              this.toolTip.show(d);\n            })\n            .on('mouseout', (d) => {\n              d3.select(this)\n                .attr('r', _series.radius);\n              this.toolTip.hide(d);\n            });\n      });\n    },\n\n    _drawLineChart(_series, filteredData, idx) {\n      let x = this.x, y = this.y, d3 = Px.d3,\n          minimapX = this.minimap.x, minimapY = this.minimap.y;\n      let line = d3.line()\n        .x(function(d) { return x(d.x); })\n        .y(function(d) { return y(d.y[idx]); });\n\n      let minimapLine = d3.line()\n        .x(function(d) { return minimapX(d.x); })\n        .y(function(d) { return minimapY(d.y[idx]); });\n\n      if(this.cfgSeries[idx].interpolation) {\n        line.curve(d3[this.cfgSeries[idx].interpolation]);\n        minimapLine.curve(d3[this.cfgSeries[idx].interpolation]);\n      }\n\n      this.svg.append(\"path\")\n        .data([filteredData])\n        .attr(\"class\", \"series-line series-circle-\"+idx)\n        .style(\"stroke\", _series.color || \"steelblue\")\n        .style(\"stroke-dasharray\", _series.dashArray || \"0,0\")\n        .attr(\"fill\", \"transparent\")\n        .attr(\"d\", line)\n        .style(\"pointer-events\", \"none\");\n\n      this.minimapSvg.append(\"path\")\n        .data([filteredData])\n        .attr(\"class\", \"minimap-line minimap-series-\"+idx)\n        .style(\"stroke\", _series.color || \"steelblue\")\n        .style(\"stroke-dasharray\", _series.dashArray || \"0,0\")\n        .attr(\"fill\", \"transparent\")\n        .attr(\"d\", minimapLine)\n        .style(\"pointer-events\", \"none\");\n    },\n\n    _drawBrushAndZoomForMinimap() {\n      let x = this.x, y = this.y, d3 = Px.d3, me = this;\n\n      this.brushed = () => {\n        if (d3.event.sourceEvent && d3.event.sourceEvent.type === \"zoom\") return; // ignore brush-by-zoom\n        let s = d3.event.selection || me.minimap.x.range();\n        x.domain(s.map(me.minimap.x.invert, me.minimap.x));\n        me.svg.select(\".zoom\").call(me.zoom.transform, \n          d3.zoomIdentity\n            .scale(me.adjustedWidth / (s[1] - s[0]))\n            .translate(-s[0], 0));\n      }\n\n      this.zoomed = () => {\n        if (d3.event.sourceEvent && d3.event.sourceEvent.type === \"brush\") return; // ignore zoom-by-brush\n        var t = d3.event.transform;\n        x.domain(t.rescaleX(me.minimap.x).domain());\n        this.minimapSvg.select(\".brush\").call(brush.move, x.range().map(t.invertX, t));\n      };\n\n      this.brush = d3.brushX()\n        .extent([[0, 0], [this.adjustedHeight, this.minimap.adjustedHeight]])\n        .on(\"brush end\", this.brushed);\n\n      this.zoom = d3.zoom()\n        .scaleExtent([1, Infinity])\n        .translateExtent([[0, 0], [this.adjustedWidth, this.minimap.adjustedHeight]])\n        .extent([[0, 0], [this.adjustedWidth, this.minimap.adjustedHeight]])\n        .on(\"zoom\", this.zoomed);\n  \n      this.minimapSvg.append(\"g\")\n        .attr(\"class\", \"brush\")\n        .call(this.brush)\n        .call(brush.move, x.range());\n  \n      this.svg.append(\"rect\")\n        .attr(\"class\", \"zoom\")\n        .attr(\"width\", this.adjustedWidth)\n        .attr(\"height\", this.adjustedHeight)\n        .attr(\"transform\", \"translate(\" + this.margin.left + \",\" + this.margin.top + \")\")\n        .call(this.zoom);\n    },\n\n    _redraw(margin, data, cfgXAxis, cfgYAxis, cfgSeries) {\n      if(!data || !data.length) {\n        return;\n      }\n      Px.d3.select(this.$.chart).select(\"svg\").remove();\n      this.draw();\n    },\n\n    _toggleSeries(event) {\n      const label = \"series-circle-\" + event.model.get(\"idx\");\n\n      this[label] = !this[label];\n\t\t\tif(this[label]) {\n\t\t\t\tthis.querySelectorAll(\".\"+label).forEach((elt) => {\n\t\t\t\t\telt.style.display = \"none\";\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.querySelectorAll(\".\"+label).forEach((elt) => {\n\t\t\t\t\telt.style.display = \"block\";\n\t\t\t\t});\n\t\t\t}\n    }\n  });\n})();\n"]}